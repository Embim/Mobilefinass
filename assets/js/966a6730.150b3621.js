"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[609],{1578:(r,n,e)=>{e.r(n),e.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>p,frontMatter:()=>i,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"Architecture/grpc","title":"gRPC","description":"\u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0433\u043e \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f","source":"@site/docs/Architecture/grpc.md","sourceDirName":"Architecture","slug":"/Architecture/grpc","permalink":"/Mobilefinass/docs/Architecture/grpc","draft":false,"unlisted":false,"editUrl":"https://github.com/Embim/Mobilefinass/tree/main/my-website/docs/Architecture/grpc.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"gRPC","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"\u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430","permalink":"/Mobilefinass/docs/Architecture/architec"},"next":{"title":"Kafka","permalink":"/Mobilefinass/docs/Architecture/kafka"}}');var t=e(4848),a=e(8453);const i={title:"gRPC",sidebar_position:2},c=void 0,o={},l=[{value:"\u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0433\u043e \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f",id:"\u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430-\u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0433\u043e-\u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f",level:5},{value:"<strong>gRPC (\u0434\u0432\u0443\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0439 \u0441\u0442\u0440\u0438\u043c\u0438\u043d\u0433)</strong>",id:"grpc-\u0434\u0432\u0443\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0439-\u0441\u0442\u0440\u0438\u043c\u0438\u043d\u0433",level:4},{value:"gRPC \u041f\u0440\u043e\u0442\u043e\u043a\u043e\u043b \u0434\u043b\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439",id:"grpc-\u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b-\u0434\u043b\u044f-\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438-\u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439",level:3},{value:"\u041f\u0440\u0438\u043c\u0435\u0440 \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f",id:"\u043f\u0440\u0438\u043c\u0435\u0440-\u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f",level:2},{value:"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043d\u0430 \u043a\u043b\u0438\u0435\u043d\u0442\u0435",id:"\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430-\u043d\u0430-\u043a\u043b\u0438\u0435\u043d\u0442\u0435",level:2},{value:"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440",id:"\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430-\u043d\u0430-\u0441\u0435\u0440\u0432\u0435\u0440",level:2}];function d(r){const n={code:"code",h2:"h2",h3:"h3",h4:"h4",h5:"h5",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...r.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h5,{id:"\u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430-\u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0433\u043e-\u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f",children:"\u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0433\u043e \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u0421\u043e\u0431\u044b\u0442\u0438\u0435"}),": \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441\u043e\u0432\u0435\u0440\u0448\u0430\u0435\u0442 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044e (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043f\u043e\u043a\u0443\u043f\u043a\u0443, \u043f\u0435\u0440\u0435\u0432\u043e\u0434 \u0438\u043b\u0438 \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0441\u0447\u0435\u0442\u0430)."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435"}),": \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044e \u0432 \u0431\u0435\u043a\u0435\u043d\u0434-\u0441\u0438\u0441\u0442\u0435\u043c\u0443, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u0441\u043e\u0431\u044b\u0442\u0438\u0435 \u0438 \u0440\u0430\u0441\u0441\u044b\u043b\u0430\u0435\u0442 \u0435\u0433\u043e \u0437\u0430\u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043e\u0432\u0430\u043d\u043d\u044b\u043c \u0441\u0435\u0440\u0432\u0438\u0441\u0430\u043c."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u0420\u0435\u0430\u043a\u0446\u0438\u044f"}),": \u0411\u0435\u043a\u0435\u043d\u0434 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u0438\u043b\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0438 \u0438 \u043e\u0442\u0447\u0435\u0442\u043e\u0432 \u0432 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u043c \u0432\u0440\u0435\u043c\u0435\u043d\u0438."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"grpc-\u0434\u0432\u0443\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0439-\u0441\u0442\u0440\u0438\u043c\u0438\u043d\u0433",children:(0,t.jsx)(n.strong,{children:"gRPC (\u0434\u0432\u0443\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0439 \u0441\u0442\u0440\u0438\u043c\u0438\u043d\u0433)"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u041e\u0431\u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u0435"}),":\r\ngRPC \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0432\u044b\u0441\u043e\u043a\u043e\u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438, \u0433\u0434\u0435 \u043a\u043b\u0438\u0435\u043d\u0442 (\u0431\u0430\u043d\u043a, \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043a\u043b\u0438\u0435\u043d\u0442) \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u043f\u043e\u0442\u043e\u043a \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439, \u0430 \u0441\u0435\u0440\u0432\u0435\u0440 \u043c\u043e\u0436\u0435\u0442 \u0441\u0440\u0430\u0437\u0443 \u043e\u0442\u0432\u0435\u0447\u0430\u0442\u044c.\r\n\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 Protocol Buffers \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0435\u0442 \u043a\u043e\u043c\u043f\u0430\u043a\u0442\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438 \u0434\u0430\u043d\u043d\u044b\u0445, \u0441\u043d\u0438\u0436\u0430\u044f \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u043d\u0430 \u0441\u0435\u0442\u044c.\r\n\u0412\u044b\u0441\u043e\u043a\u0430\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0434\u043b\u044f \u043c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0445 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439 \u0441 \u043d\u0438\u0437\u043a\u0438\u043c \u044d\u043d\u0435\u0440\u0433\u043e\u043f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u0438\u0435\u043c.\r\n\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u0442\u0440\u0438\u043c\u0438\u043d\u0433\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u043c\u0435\u0436\u0434\u0443 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u043c \u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c.\r\n\u041a\u043e\u043c\u043f\u0430\u043a\u0442\u043d\u043e\u0441\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u0431\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u044f Protocol Buffers."]}),"\n",(0,t.jsx)(n.h3,{id:"grpc-\u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b-\u0434\u043b\u044f-\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438-\u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439",children:"gRPC \u041f\u0440\u043e\u0442\u043e\u043a\u043e\u043b \u0434\u043b\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-proto",children:'syntax = "proto3";\r\n\r\npackage transaction;\r\n\r\nservice TransactionService {\r\n  rpc StreamTransactions(stream Transaction) returns (stream TransactionResponse);\r\n}\r\n\r\nmessage Transaction {\r\n  string transactionId = 1;\r\n  string userId = 2;\r\n  string category = 3;\r\n  float amount = 4;\r\n  string currency = 5;\r\n  string timestamp = 6;\r\n}\r\n\r\nmessage TransactionResponse {\r\n  string transactionId = 1;\r\n  string status = 2; // success or failure\r\n  string message = 3;\r\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"\u043f\u0440\u0438\u043c\u0435\u0440-\u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f",children:"\u041f\u0440\u0438\u043c\u0435\u0440 \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f"}),"\n",(0,t.jsx)(n.img,{src:"https://www.plantuml.com/plantuml/png/ZPB1IXn148RlWkzGp7ds1GJ5xEmb9qDcNw3iAPOXCzr3Tur1HD0zI88GBvvo2Nc3KLophZY-GlKRXLetkX8FdghhhwgV-ehU3OoUsxhQtDZSGCFEGrQLP1amGAPYWvvBKpPe6PAnHnlGSEbiJlwWD9HeupZNpW8Pzp4G9AFLQraS3RMOmM07nlaMx3La8MTFMA_iGNxAlSnb9Wzn2l5KUhcMMJo9twIJcKhJU2ATFCWVwMGHpsGUV-XivLm3yajwMKW7qcjVF8zJa4TDL7-ow-KgVbT_cSlTgstMWE28NvAFHGfj8A_H8DF4-SCKi7QjvHHCwprPSvW2bpK5nhevLbkonLfOelrMaYSUMEwX95VInMayb-jt0LxAVRm0PPHRkP5UxjuOaBaEZ7C56mst8CS3MgVJwcW8WnNt1_F5kgyL5PEQBFyR7Un0zkecdoaqpWRwxpQ1aTkmdOJM60eXIQ6c4712syadxrIY8ddZ9jdp1bdb0grzX5soHLjNVm40"}),"\n",(0,t.jsx)(n.h2,{id:"\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430-\u043d\u0430-\u043a\u043b\u0438\u0435\u043d\u0442\u0435",children:"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043d\u0430 \u043a\u043b\u0438\u0435\u043d\u0442\u0435"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'import grpc\r\nfrom transaction_pb2 import Transaction\r\nfrom transaction_pb2_grpc import TransactionServiceStub\r\n\r\ndef stream_transactions():\r\n    # \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439\r\n    transactions = [\r\n        Transaction(transactionId="1", userId="user123", category="Food", amount=50.0, currency="USD", timestamp="2024-11-17T12:00:00Z"),\r\n        Transaction(transactionId="2", userId="user123", category="Transport", amount=20.0, currency="USD", timestamp="2024-11-17T12:10:00Z")\r\n    ]\r\n    \r\n    for transaction in transactions:\r\n        yield transaction\r\n\r\nwith grpc.insecure_channel(\'localhost:50051\') as channel:\r\n    stub = TransactionServiceStub(channel)\r\n    responses = stub.StreamTransactions(stream_transactions())\r\n    for response in responses:\r\n        print(f"Response: {response.transactionId}, Status: {response.status}, Message: {response.message}")\n'})}),"\n",(0,t.jsx)(n.h2,{id:"\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430-\u043d\u0430-\u0441\u0435\u0440\u0432\u0435\u0440",children:"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'import grpc\r\nfrom concurrent import futures\r\nfrom transaction_pb2 import TransactionResponse\r\nfrom transaction_pb2_grpc import TransactionServiceServicer, add_TransactionServiceServicer_to_server\r\n\r\nclass TransactionService(TransactionServiceServicer):\r\n    def StreamTransactions(self, request_iterator, context):\r\n        for transaction in request_iterator:\r\n            # \u0410\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0430\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438\r\n            print(f"Processing Transaction: {transaction.transactionId}")\r\n            yield TransactionResponse(\r\n                transactionId=transaction.transactionId,\r\n                status="success",\r\n                message="Transaction processed successfully"\r\n            )\r\n\r\nserver = grpc.server(futures.ThreadPoolExecutor(max_workers=10))\r\nadd_TransactionServiceServicer_to_server(TransactionService(), server)\r\nserver.add_insecure_port(\'[::]:50051\')\r\nserver.start()\r\nserver.wait_for_termination()\n'})})]})}function p(r={}){const{wrapper:n}={...(0,a.R)(),...r.components};return n?(0,t.jsx)(n,{...r,children:(0,t.jsx)(d,{...r})}):d(r)}},8453:(r,n,e)=>{e.d(n,{R:()=>i,x:()=>c});var s=e(6540);const t={},a=s.createContext(t);function i(r){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof r?r(n):{...n,...r}}),[n,r])}function c(r){let n;return n=r.disableParentContext?"function"==typeof r.components?r.components(t):r.components||t:i(r.components),s.createElement(a.Provider,{value:n},r.children)}}}]);