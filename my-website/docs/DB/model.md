---
title: ERD
sidebar_position: 1
---

# Модель данных

import Drawio from '@theme/Drawio'
import diagram from '!!raw-loader!./model.drawio';

<Drawio content={diagram} editable={false} />

### Сущности и их атрибуты

### **User (Пользователь)**

| **Название**    | **Тип**     | **Описание**                          | **Значение по умолчанию**  | **Ограничения**       | **Обязательность** |
| ---------------- | ----------- | ------------------------------------- | -------------------------- | --------------------- | ------------------ |
| user_id          | int         | Уникальный идентификатор пользователя | Автогенерация (SERIAL)     | Первичный ключ        | Да                 |
| name             | varchar     | Имя пользователя                     | NULL                      | Максимум 100 символов | Да                 |
| email            | varchar     | Электронная почта                    | NULL                      | Уникальный            | Да                 |
| created_at       | timestamp   | Дата регистрации                     | CURRENT_TIMESTAMP         | -                     | Да                 |

### **Notification (Уведомление)**

| **Название**       | **Тип**     | **Описание**                         | **Значение по умолчанию**  | **Ограничения**             | **Обязательность** |
| ------------------- | ----------- | ------------------------------------ | -------------------------- | --------------------------- | ------------------ |
| notification_id     | int         | Уникальный идентификатор уведомления | Автогенерация (SERIAL)     | Первичный ключ              | Да                 |
| user_id             | int         | ID связанного пользователя          | NULL                      | Внешний ключ на User.user_id | Да                 |
| type                | varchar     | Тип уведомления                     | NULL                      | ENUM: alert, reminder, update | Да               |
| message             | text        | Текст уведомления                   | NULL                      | -                           | Да                 |
| date                | timestamp   | Дата создания уведомления           | CURRENT_TIMESTAMP         | -                           | Да                 |

### **Transaction (Транзакция)**

| **Название**       | **Тип**     | **Описание**                         | **Значение по умолчанию**  | **Ограничения**             | **Обязательность** |
| ------------------- | ----------- | ------------------------------------ | -------------------------- | --------------------------- | ------------------ |
| transaction_id      | int         | Уникальный идентификатор транзакции  | Автогенерация (SERIAL)     | Первичный ключ              | Да                 |
| user_id             | int         | ID связанного пользователя          | NULL                      | Внешний ключ на User.user_id | Да                 |
| budget_id           | int         | ID связанного бюджета               | NULL                      | Внешний ключ на Budget.budget_id | Нет            |
| category            | varchar     | Категория транзакции                | NULL                      | Максимум 50 символов        | Да                 |
| amount              | float       | Сумма транзакции                    | NULL                      | -                           | Да                 |
| currency            | varchar     | Валюта транзакции                   | NULL                      | Максимум 10 символов        | Да                 |
| timestamp           | timestamp   | Время создания транзакции           | CURRENT_TIMESTAMP         | -                           | Да                 |

### **Budget (Бюджет)**

| **Название**       | **Тип**     | **Описание**                         | **Значение по умолчанию**  | **Ограничения**             | **Обязательность** |
| ------------------- | ----------- | ------------------------------------ | -------------------------- | --------------------------- | ------------------ |
| budget_id           | int         | Уникальный идентификатор бюджета    | Автогенерация (SERIAL)     | Первичный ключ              | Да                 |
| user_id             | int         | ID связанного пользователя          | NULL                      | Внешний ключ на User.user_id | Да                 |
| category            | varchar     | Категория бюджета                   | NULL                      | Максимум 50 символов        | Да                 |
| amount              | float       | Сумма бюджета                       | NULL                      | -                           | Да                 |
| status              | varchar     | Статус бюджета                      | active                    | ENUM: active, completed     | Да                 |
| shared              | boolean     | Совместный бюджет                   | FALSE                     | -                           | Да                 |

### **Course (Курс)**

| **Название**       | **Тип**     | **Описание**                         | **Значение по умолчанию**  | **Ограничения**             | **Обязательность** |
| ------------------- | ----------- | ------------------------------------ | -------------------------- | --------------------------- | ------------------ |
| course_id           | int         | Уникальный идентификатор курса      | Автогенерация (SERIAL)     | Первичный ключ              | Да                 |
| title               | varchar     | Название курса                      | NULL                      | Максимум 100 символов       | Да                 |
| description         | text        | Описание курса                      | NULL                      | -                           | Нет                |

### **AnalyticsReport (Отчет по аналитике)**

| **Название**       | **Тип**     | **Описание**                         | **Значение по умолчанию**  | **Ограничения**             | **Обязательность** |
| ------------------- | ----------- | ------------------------------------ | -------------------------- | --------------------------- | ------------------ |
| report_id           | int         | Уникальный идентификатор отчета     | Автогенерация (SERIAL)     | Первичный ключ              | Да                 |
| user_id             | int         | ID связанного пользователя          | NULL                      | Внешний ключ на User.user_id | Да                 |
| category            | varchar     | Категория расходов                  | NULL                      | Максимум 50 символов        | Да                 |
| total_amount        | float       | Общая сумма расходов                | NULL                      | -                           | Да                 |
| currency            | varchar     | Валюта                              | NULL                      | Максимум 10 символов        | Да                 |
| report_timestamp    | timestamp   | Время создания отчета               | CURRENT_TIMESTAMP         | -                           | Да                 |

### **UserCourse (Курс пользователя)**

| **Название**       | **Тип**     | **Описание**                         | **Значение по умолчанию**  | **Ограничения**             | **Обязательность** |
| ------------------- | ----------- | ------------------------------------ | -------------------------- | --------------------------- | ------------------ |
| user_course_id      | int         | Уникальный идентификатор записи     | Автогенерация (SERIAL)     | Первичный ключ              | Да                 |
| user_id             | int         | ID связанного пользователя          | NULL                      | Внешний ключ на User.user_id | Да                 |
| course_id           | int         | ID связанного курса                 | NULL                      | Внешний ключ на Course.course_id | Да            |
| enrollment_date     | timestamp   | Время записи на курс                | CURRENT_TIMESTAMP         | -                           | Да                 |
| progress            | float       | Прогресс пользователя               | 0                         | Диапазон: 0-100             | Да                 |
| completed           | boolean     | Флаг завершения курса               | FALSE                     | -                           | Да                 |
